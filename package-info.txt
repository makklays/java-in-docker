
Контейнер собираеться командой
# docker build

На данном этапе из этих образов уже можно запустить конйтенер с помощью команды
# docker run

Запустить стек контейнеров можно с помощью команды
# docker-compose up

Для того чтобы оставить все контейнеры используется команда
# docker-compose stop

Для того чтобы остановить и удалить все контейнеры используется команда
# docker-compose down

Для того, чтобы посмотреть список запущенных контейнеров используется команда
# docker ps

Чтобы приатачиться обратно можно использовать команду
# docker attach

Для того чтобы выполнить какую-нибудь команду в контейнер без аттача можно использовать команду
# docker exec

Для просмотра стдаута приложения можно воспользоваться командой
# docker logs
или
# docker-compose logs

После того как сделали какие-то изменения в файлах сервера контейнер нужно пересобрать (с.м выше про сборку образов),
и перезалить в реестр (с.м выше про пуш образов) а дальше перезагрузить на продакшн сервере
Запулить нужный образ заного можно командой
# docker-compose pull
или
# docker-compose -f docker-compose.prod.yml pull authserver

При частой локальной пересборки будеи накапливаться мусор из старых образов. Очистить образы можно командой
# docker image prune


запустить конйтенер с помощью команды
# docker run
# docker run --name mariadbtest -e MYSQL_ROOT_PASSWORD=root -p 3306:3306 -d docker.io/library/mariadb:10.3

Ребилдим образы и пушим их в реестр с помощью команды
# docker push
или
# docker-compose push

Важный момент по поводу имени файла: все команды docker-compose изначально ожидают что файл будет называться docker-compose.yml, без лишних приставок, но можно дополнительно передать конкретный файл с помощью флага -f
например запуска инсталятора
# docker-compose -f docker-compose.prod.yml --profile db-install up

